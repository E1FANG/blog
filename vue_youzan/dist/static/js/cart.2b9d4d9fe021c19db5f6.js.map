{"version":3,"sources":["webpack:///static/js/cart.2b9d4d9fe021c19db5f6.js","webpack:///./src/modules/js/api.js?4c58**","webpack:///./src/pages/cart/cart.js","webpack:///./src/modules/js/fetch.js?c08e","webpack:///./src/modules/js/mixin.js?53fa","webpack:///./src/modules/js/cartService.js"],"names":["webpackJsonp","0","module","__webpack_exports__","__webpack_require__","url","hotLists","banner","topList","subList","rank","searchList","details","deal","addCart","cartLists","cartReduce","cartRemove","cartMremove","addressLists","addressAdd","addressRemove","addressUpdata","addressSetDefault","key","hasOwnProperty","111","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__cart_trade_css__","__WEBPACK_IMPORTED_MODULE_1__cart_base_css__","n","__WEBPACK_IMPORTED_MODULE_2__cart_css__","__WEBPACK_IMPORTED_MODULE_3__dilong_css__","__WEBPACK_IMPORTED_MODULE_4_vue__","__WEBPACK_IMPORTED_MODULE_5_js_mixin_js__","__WEBPACK_IMPORTED_MODULE_6_axios__","__WEBPACK_IMPORTED_MODULE_6_axios___default","__WEBPACK_IMPORTED_MODULE_7_js_api_js__","__WEBPACK_IMPORTED_MODULE_8_velocity_animate__","__WEBPACK_IMPORTED_MODULE_8_velocity_animate___default","__WEBPACK_IMPORTED_MODULE_9_js_cartService_js__","el","data","lists","total","editingShop","editingShopIndex","removePopup","removeData","removeMsg","computed","allSelected","get","this","length","every","shop","checked","set","newVal","forEach","goodsList","good","allRemoveSelected","removeChecked","selectLists","arr","push","price","number","removeLists","created","getList","methods","_this","a","then","res","cartList","editing","editingMsg","touch","selectGood","attr","selectShop","selectAll","edit","shopIndex","item","i","reduce","id","add","remove","goodIndex","removeList","removeConfirm","_this2","_removeData","post","splice","removeShop","ids","findIndex","start","e","startX","changedTouches","clientX","end","endX","left","$refs","mixins","27","fetch","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","__WEBPACK_IMPORTED_MODULE_1_axios___default","status","href","location","rejects","catch","error","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_axios__","6","mixin","filters","currency","priceStr","indexOf","split","substr","72","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_2_js_fetch_js__","__WEBPACK_IMPORTED_MODULE_3_js_api_js__","Cart","76","exports","77","78","79"],"mappings":"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","file":"static/js/cart.2b9d4d9fe021c19db5f6.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 0:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar url = {\n    hotLists: '/index/hotLists',\n    banner: '/index/banner',\n    topList: '/category/topList',\n    subList: '/category/subList',\n    rank: '/category/rank',\n    searchList: '/search/list',\n    details: '/goods/details',\n    deal: '/goods/deal',\n    addCart: '/cart/add',\n    cartLists: '/cart/list',\n    cartReduce: '/cart/reduce',\n    cartRemove: '/cart/remove',\n    cartMremove: '/cart/mrremove',\n    addressLists: '/address/list',\n    addressAdd: '/address/add',\n    addressRemove: '/address/remove',\n    addressUpdata: '/address/update',\n    addressSetDefault: '/address/setDefault'\n\n    //开发环境和真实环境的切换\n\n    // let host = ''\n};var host = ' https://www.easy-mock.com/mock/5d6e19f1772c3b4fe195e751/example';\n\n//在所有url的值前面加上host\nfor (var key in url) {\n    if (url.hasOwnProperty(key)) {\n        url[key] = host + url[key];\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (url);\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cart_trade_css__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cart_trade_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__cart_trade_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__cart_base_css__ = __webpack_require__(77);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__cart_base_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__cart_base_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cart_css__ = __webpack_require__(76);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cart_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__cart_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dilong_css__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dilong_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__dilong_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_js_mixin_js__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_axios__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_js_api_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_velocity_animate__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_velocity_animate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_velocity_animate__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_js_cartService_js__ = __webpack_require__(72);\n\n\n\n\n\n\n\n\n\n\n\n\n\nnew __WEBPACK_IMPORTED_MODULE_4_vue__[\"default\"]({\n    el: '.container',\n    data: {\n        lists: null,\n        total: 0,\n        editingShop: null,\n        editingShopIndex: -1,\n        removePopup: false,\n        removeData: null,\n        removeMsg: ''\n    },\n    computed: {\n        allSelected: {\n            get: function get() {\n                if (this.lists && this.lists.length) {\n                    return this.lists.every(function (shop) {\n                        return shop.checked;\n                    });\n                }\n                return false;\n            },\n            set: function set(newVal) {\n                this.lists.forEach(function (shop) {\n                    shop.checked = newVal;\n                    shop.goodsList.forEach(function (good) {\n                        good.checked = newVal;\n                    });\n                });\n            }\n        },\n        allRemoveSelected: {\n            get: function get() {\n                if (this.editingShop) {\n                    return this.editingShop.removeChecked;\n                }\n                return false;\n            },\n            set: function set(newVal) {\n                if (this.editingShop) {\n                    this.editingShop.removeChecked = newVal;\n                    this.editingShop.goodsList.forEach(function (good) {\n                        good.removeChecked = newVal;\n                    });\n                }\n            }\n        },\n        selectLists: function selectLists() {\n            if (this.lists && this.lists.length) {\n                var arr = [];\n                var total = 0;\n                this.lists.forEach(function (shop) {\n                    shop.goodsList.forEach(function (good) {\n                        if (good.checked) {\n                            arr.push(good);\n                            total += good.price * good.number;\n                        }\n                    });\n                });\n                this.total = total;\n                return arr;\n            }\n            return [];\n        },\n        removeLists: function removeLists() {\n            if (this.editingShop) {\n                var arr = [];\n                this.editingShop.goodsList.forEach(function (good) {\n                    if (good.removeChecked) {\n                        arr.push(good);\n                    }\n                });\n                return arr;\n            }\n            return [];\n        }\n    },\n    created: function created() {\n        this.getList();\n    },\n\n    methods: {\n        getList: function getList() {\n            var _this = this;\n\n            __WEBPACK_IMPORTED_MODULE_6_axios___default.a.get(__WEBPACK_IMPORTED_MODULE_7_js_api_js__[\"a\" /* default */].cartLists).then(function (res) {\n                var lists = res.data.cartList;\n                lists.forEach(function (shop) {\n                    shop.checked = true;\n                    shop.removeChecked = false;\n                    shop.editing = false;\n                    shop.editingMsg = '编辑';\n                    shop.goodsList.forEach(function (good) {\n                        good.checked = true;\n                        good.removeChecked = false;\n                        good.touch = false;\n                    });\n                });\n                _this.lists = lists;\n            });\n        },\n        selectGood: function selectGood(shop, good) {\n            //选择状态\n            // good.checked = !good.checked\n            // shop.checked = shop.goodsList.every(good =>{\n            //     return good.checked\n            // })\n\n            //根据当前是处于编辑状态还是选择状态来设置\n            var attr = this.editingShop ? 'removeChecked' : 'checked';\n            good[attr] = !good[attr];\n            shop[attr] = shop.goodsList.every(function (good) {\n                return good[attr];\n            });\n        },\n        selectShop: function selectShop(shop) {\n            //选择状态\n            // shop.checked = !shop.checked\n            // shop.goodsList.forEach(good =>{\n            //     good.checked = shop.checked\n            // })\n\n            //根据当前是处于编辑状态还是选择状态来设置\n            var attr = this.editingShop ? 'removeChecked' : 'checked';\n            shop[attr] = !shop[attr];\n            shop.goodsList.forEach(function (good) {\n                good[attr] = shop[attr];\n            });\n        },\n        selectAll: function selectAll() {\n            //选择状态\n            // this.allSelected = !this.allSelected\n\n            //根据当前是处于编辑状态还是选择状态来设置\n            var attr = this.editingShop ? 'AllRemoveSelected' : 'allSelected';\n            this[attr] = !this[attr];\n        },\n        edit: function edit(shop, shopIndex) {\n            shop.editing = !shop.editing;\n            shop.editingMsg = shop.editing ? '完成' : '编辑';\n            this.lists.forEach(function (item, i) {\n                if (shopIndex !== i) {\n                    item.editing = false;\n                    item.editingMsg = shop.editing ? '' : '编辑';\n                }\n            });\n            this.editingShop = shop.editing ? shop : null;\n            this.editingShopIndex = shop.editing ? shopIndex : -1;\n        },\n        reduce: function reduce(good) {\n            if (good.number === 1) return;\n            // axios.post(url.cartReduce, {\n            //     id:good.id,\n            //     number:1\n            // }).then(res => {\n            //     good.number --\n            // })\n            __WEBPACK_IMPORTED_MODULE_9_js_cartService_js__[\"a\" /* default */].reduce(good.id).then(function (res) {\n                good.number--;\n            });\n        },\n        add: function add(good) {\n            //先给服务器发送请求，告诉服务器哪个商品增加了1，请求成功后，才执行页面商品+1；\n            // axios.post(url.addCart, {\n            //     id:good.id,\n            //     number:1\n            // }).then(res => {\n            //     good.number ++\n            // })\n\n            __WEBPACK_IMPORTED_MODULE_9_js_cartService_js__[\"a\" /* default */].add(good.id).then(function (res) {\n                good.number++;\n            });\n        },\n        remove: function remove(shop, shopIndex, good, goodIndex) {\n            this.removePopup = true;\n            this.removeData = { shop: shop, shopIndex: shopIndex, good: good, goodIndex: goodIndex };\n            this.removeMsg = '确定删除商品吗？';\n        },\n        removeList: function removeList() {\n            this.removePopup = true;\n            this.removeMsg = '确定将所选' + this.removeLists.length + ' 个商品删除？';\n        },\n        removeConfirm: function removeConfirm() {\n            var _this2 = this;\n\n            if (this.removeMsg === '确定删除商品吗？') {\n                var _removeData = this.removeData,\n                    shop = _removeData.shop,\n                    shopIndex = _removeData.shopIndex,\n                    good = _removeData.good,\n                    goodIndex = _removeData.goodIndex;\n\n                __WEBPACK_IMPORTED_MODULE_6_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_7_js_api_js__[\"a\" /* default */].cartRemove, {\n                    id: good.id\n                }).then(function (res) {\n                    shop.goodsList.splice(goodIndex, 1);\n                    if (!shop.goodsList.length) {\n                        _this2.lists.splice(shopIndex, 1);\n                        _this2.removeShop();\n                    }\n                    _this2.removePopup = false;\n                    // Volecity(this.$refs[`goods-${shopIndex}-${goodIndex}`], {\n                    //     left : '0px'\n                    // })\n                    good.touch = false;\n                });\n            } else {\n                var ids = [];\n                this.removeLists.forEach(function (good) {\n                    ids.push(good);\n                });\n                __WEBPACK_IMPORTED_MODULE_6_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_7_js_api_js__[\"a\" /* default */].cartMremove, {\n                    ids: ids\n                }).then(function (res) {\n                    var arr = [];\n                    //  因为如果一个一个找到要删除的商品下标，再一个一个删除，\n                    //  那么数组里面的商品下标就会产生变化，所以要从后往前的删除商品才可行，\n                    //  因为太复杂，所以使用第二种方法：\n                    //  把不在删除列表的商品找出来，放在一个新数组里面。\n                    //  然后再判断，如果这个数组存在，就将它赋值给商铺的商品列表，渲染到页面上\n                    //  这样页面一样是没有了被删除了的商品\n                    //  如果数组不存在 就说明商店的商品已经被删除没了，所以可以将商店删掉了\n                    _this2.editingShop.goodsList.forEach(function (good) {\n                        var index = _this2.removeLists.findIndex(function (item) {\n                            return item.id == good.id;\n                        });\n                        if (index === -1) {\n                            arr.push(good);\n                        }\n                    });\n                    if (arr.length) {\n                        _this2.editingShop.goodsList = arr;\n                    } else {\n                        _this2.lists.splice(_this2.editingShopIndex, 1);\n                        _this2.removeShop();\n                    }\n                    _this2.removePopup = false;\n                });\n            }\n        },\n        removeShop: function removeShop() {\n            this.editingShop = null;\n            this.editingShopIndex = -1;\n            this.lists.forEach(function (shop) {\n                shop.editing = false;\n                shop.editingMsg = '编辑';\n            });\n        },\n\n\n        //touch事件 \n        start: function start(e, good) {\n            good.startX = e.changedTouches[0].clientX;\n        },\n        end: function end(e, shopIndex, good, goodIndex) {\n            var endX = e.changedTouches[0].clientX;\n            var left = '0';\n            if (good.startX - endX > 100) {\n                left = '-60px';\n                good.touch = true;\n            }\n            if (endX - good.startX > 100) {\n                left = '0px';\n                good.touch = false;\n            }\n            __WEBPACK_IMPORTED_MODULE_8_velocity_animate___default()(this.$refs['goods-' + shopIndex + '-' + goodIndex], {\n                left: left\n            });\n        }\n    },\n    mixins: [__WEBPACK_IMPORTED_MODULE_5_js_mixin_js__[\"a\" /* default */]]\n});\n\n//-------------------------------mockjs的使用\n\n// import Mock from 'mockjs'\n// let Random = Mock.Random\n\n\n// let data = Mock.mock({\n//     'cartList|3' :[{\n//         'goodsList|1-2':[{\n//             id:Random.int(10000,100000),\n//             image:Mock.mock('@img(90x90, @color)')\n//         }]\n//     }]\n// })\n\n// console.log(data)\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n\n\n\nfunction fetch(url, data) {\n    return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n        __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(url, data).then(function (res) {\n            var status = res.data.status;\n            if (status === 200) {\n                resolve(res);\n            }\n            //如果没有登录就购买，返回状态码为300 然后跳转到登录页\n            //根据实际业务情况\n            if (status === 300) {\n                href.location = 'login.html';\n                resolve(res);\n            }\n            rejects(res);\n        }).catch(function (error) {\n            reject(error);\n        });\n    });\n}\n\n//到处fetch\n/* harmony default export */ __webpack_exports__[\"a\"] = (fetch);\n\n// axios.post(url.cartMremove, {\n//     ids\n// }).then(res => {\n\n// }).catch(res =>{\n\n// })\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar mixin = {\n    filters: {\n        currency: function currency(price) {\n            var priceStr = '' + price;\n            if (priceStr.indexOf('.') > -1) {\n                var arr = priceStr.split('.');\n                return arr[0] + '.' + (arr[1] + '0').substr(0, 2);\n            } else {\n                return priceStr + '.00';\n            }\n        }\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (mixin);\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_fetch_js__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_js_api_js__ = __webpack_require__(0);\n\n\n\n\n\nvar Cart = function () {\n    function Cart() {\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Cart);\n    }\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Cart, null, [{\n        key: 'add',\n        value: function add(id) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_js_fetch_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_3_js_api_js__[\"a\" /* default */].addCart, {\n                id: id,\n                number: 1\n            });\n        }\n    }, {\n        key: 'reduce',\n        value: function reduce(id) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_js_fetch_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_3_js_api_js__[\"a\" /* default */].cartReduce, {\n                id: id,\n                number: 1\n            });\n        }\n    }]);\n\n    return Cart;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Cart);\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[111]);\n\n\n// WEBPACK FOOTER //\n// static/js/cart.2b9d4d9fe021c19db5f6.js","let url = {\r\n    hotLists : '/index/hotLists',\r\n    banner : '/index/banner',\r\n    topList: '/category/topList',\r\n    subList: '/category/subList',\r\n    rank: '/category/rank',\r\n    searchList:'/search/list',\r\n    details: '/goods/details',\r\n    deal: '/goods/deal',\r\n    addCart :'/cart/add',\r\n    cartLists:'/cart/list',\r\n    cartReduce:'/cart/reduce',\r\n    cartRemove:'/cart/remove',\r\n    cartMremove:'/cart/mrremove',\r\n    addressLists: '/address/list',\r\n    addressAdd:'/address/add',\r\n    addressRemove:'/address/remove',\r\n    addressUpdata: '/address/update',\r\n    addressSetDefault:'/address/setDefault'\r\n}\r\n\r\n//开发环境和真实环境的切换\r\n\r\n// let host = ''\r\nlet host = ' https://www.easy-mock.com/mock/5d6e19f1772c3b4fe195e751/example'\r\n\r\n//在所有url的值前面加上host\r\nfor(let key in url){\r\n    if(url.hasOwnProperty(key)){\r\n        url[key] = host + url[key]\r\n    }\r\n}\r\n\r\nexport default url\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","import './cart_trade.css'\r\nimport './cart_base.css'\r\nimport './cart.css'\r\nimport './dilong.css'\r\n\r\nimport Vue from 'vue'\r\nimport mixin from 'js/mixin.js'\r\nimport axios from 'axios'\r\nimport url from 'js/api.js'\r\nimport Volecity from 'velocity-animate'\r\n\r\nimport Cart from 'js/cartService.js' \r\n\r\nnew Vue ({\r\n    el:'.container',\r\n    data:{\r\n        lists:null,\r\n        total:0,\r\n        editingShop:null,\r\n        editingShopIndex:-1,\r\n        removePopup:false,\r\n        removeData:null,\r\n        removeMsg:'',\r\n    },\r\n    computed:{\r\n        allSelected:{\r\n            get(){\r\n                if(this.lists && this.lists.length){\r\n                    return this.lists.every(shop=>{\r\n                        return shop.checked\r\n                    })\r\n                }\r\n                return false\r\n            },\r\n            set(newVal){\r\n                this.lists.forEach(shop =>{\r\n                    shop.checked = newVal\r\n                    shop.goodsList.forEach(good =>{\r\n                        good.checked = newVal\r\n                    })\r\n                })\r\n            },\r\n        },\r\n        allRemoveSelected:{\r\n            get(){\r\n                if(this.editingShop){\r\n                    return this.editingShop.removeChecked\r\n                }\r\n                return false\r\n            },\r\n            set(newVal){\r\n                if(this.editingShop){\r\n                    this.editingShop.removeChecked = newVal\r\n                    this.editingShop.goodsList.forEach(good => {\r\n                        good.removeChecked = newVal\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        selectLists(){\r\n            if(this.lists&&this.lists.length){\r\n                let arr = [] \r\n                let total =0\r\n                this.lists.forEach(shop=>{\r\n                    shop.goodsList.forEach(good=>{\r\n                        if(good.checked){\r\n                            arr.push(good)\r\n                            total += good.price * good.number\r\n                        }\r\n                    })\r\n                })\r\n                this.total = total\r\n                return arr\r\n            }\r\n            return []\r\n        },\r\n        removeLists(){\r\n            if(this.editingShop){\r\n                let arr = []\r\n                this.editingShop.goodsList.forEach(good =>{\r\n                    if(good.removeChecked){\r\n                        arr.push(good)\r\n                    }\r\n                })\r\n                return arr\r\n            }\r\n            return []\r\n        }\r\n    },\r\n    created(){\r\n        this.getList()\r\n    },\r\n    methods:{\r\n        getList() {\r\n            axios.get(url.cartLists).then(res =>{\r\n                let lists = res.data.cartList\r\n                lists.forEach(shop=>{\r\n                    shop.checked = true\r\n                    shop.removeChecked = false\r\n                    shop.editing = false\r\n                    shop.editingMsg = '编辑'\r\n                    shop.goodsList.forEach(good=>{\r\n                        good.checked = true\r\n                        good.removeChecked = false\r\n                        good.touch = false\r\n                    })\r\n                })\r\n                this.lists = lists\r\n            })\r\n        },\r\n        selectGood(shop,good){\r\n            //选择状态\r\n            // good.checked = !good.checked\r\n            // shop.checked = shop.goodsList.every(good =>{\r\n            //     return good.checked\r\n            // })\r\n\r\n            //根据当前是处于编辑状态还是选择状态来设置\r\n            let attr = this.editingShop ? 'removeChecked' : 'checked'\r\n            good[attr] = !good[attr]\r\n            shop[attr] = shop.goodsList.every(good =>{\r\n                return good[attr]\r\n            })\r\n        },\r\n        selectShop(shop){\r\n            //选择状态\r\n            // shop.checked = !shop.checked\r\n            // shop.goodsList.forEach(good =>{\r\n            //     good.checked = shop.checked\r\n            // })\r\n\r\n             //根据当前是处于编辑状态还是选择状态来设置\r\n            let attr = this.editingShop ? 'removeChecked' : 'checked'\r\n            shop[attr] = !shop[attr]\r\n            shop.goodsList.forEach(good =>{\r\n                good[attr] = shop[attr]\r\n            })\r\n        },\r\n        selectAll(){\r\n            //选择状态\r\n            // this.allSelected = !this.allSelected\r\n\r\n             //根据当前是处于编辑状态还是选择状态来设置\r\n            let attr = this.editingShop ? 'AllRemoveSelected' : 'allSelected'\r\n            this[attr] = !this[attr]\r\n        },\r\n        edit(shop,shopIndex){\r\n            shop.editing = !shop.editing\r\n            shop.editingMsg = shop.editing ? '完成' : '编辑'\r\n            this.lists.forEach((item,i) => {\r\n                if(shopIndex !== i){\r\n                    item.editing = false\r\n                    item.editingMsg =  shop.editing ? '' : '编辑'\r\n                }\r\n            })\r\n            this.editingShop = shop.editing ? shop : null\r\n            this.editingShopIndex = shop.editing ? shopIndex : -1\r\n        },\r\n        reduce(good){\r\n            if(good.number ===1) return \r\n            // axios.post(url.cartReduce, {\r\n            //     id:good.id,\r\n            //     number:1\r\n            // }).then(res => {\r\n            //     good.number --\r\n            // })\r\n            Cart.reduce(good.id).then(res => {\r\n                good.number --\r\n            })\r\n        },\r\n        add(good){\r\n            //先给服务器发送请求，告诉服务器哪个商品增加了1，请求成功后，才执行页面商品+1；\r\n            // axios.post(url.addCart, {\r\n            //     id:good.id,\r\n            //     number:1\r\n            // }).then(res => {\r\n            //     good.number ++\r\n            // })\r\n\r\n            Cart.add(good.id).then(res => {\r\n                good.number ++\r\n            })\r\n        },\r\n        remove(shop,shopIndex,good,goodIndex){\r\n            this.removePopup = true;\r\n            this.removeData ={shop,shopIndex,good,goodIndex}\r\n            this.removeMsg ='确定删除商品吗？'\r\n        },\r\n        removeList(){\r\n            this.removePopup = true;\r\n            this.removeMsg = '确定将所选' + this.removeLists.length + ' 个商品删除？'\r\n        },\r\n        removeConfirm(){\r\n            if(this.removeMsg === '确定删除商品吗？'){\r\n                let {shop,shopIndex,good,goodIndex} = this.removeData\r\n                axios.post(url.cartRemove,{\r\n                    id:good.id,\r\n                }).then(res => {\r\n                    shop.goodsList.splice(goodIndex, 1)\r\n                    if(!shop.goodsList.length){\r\n                        this.lists.splice(shopIndex, 1)\r\n                        this.removeShop()\r\n                    }\r\n                    this.removePopup = false;\r\n                    // Volecity(this.$refs[`goods-${shopIndex}-${goodIndex}`], {\r\n                    //     left : '0px'\r\n                    // })\r\n                    good.touch = false\r\n                })\r\n             }else{\r\n                 let ids =[]\r\n                 this.removeLists.forEach(good => {\r\n                     ids.push(good)\r\n                 })\r\n                 axios.post(url.cartMremove, {\r\n                     ids\r\n                 }).then(res => {\r\n                     let arr =[]\r\n                    //  因为如果一个一个找到要删除的商品下标，再一个一个删除，\r\n                    //  那么数组里面的商品下标就会产生变化，所以要从后往前的删除商品才可行，\r\n                    //  因为太复杂，所以使用第二种方法：\r\n                    //  把不在删除列表的商品找出来，放在一个新数组里面。\r\n                    //  然后再判断，如果这个数组存在，就将它赋值给商铺的商品列表，渲染到页面上\r\n                    //  这样页面一样是没有了被删除了的商品\r\n                    //  如果数组不存在 就说明商店的商品已经被删除没了，所以可以将商店删掉了\r\n                     this.editingShop.goodsList.forEach(good => {\r\n                         let index = this.removeLists.findIndex(item => {\r\n                             return item.id ==good.id\r\n                         })\r\n                         if(index === -1){\r\n                             arr.push(good)\r\n                         }\r\n                     })\r\n                     if(arr.length) {\r\n                         this.editingShop.goodsList = arr\r\n                     }else{\r\n                         this.lists.splice(this.editingShopIndex, 1)\r\n                         this.removeShop()\r\n                     }\r\n                     this.removePopup =false\r\n                 })\r\n             }\r\n        },\r\n        removeShop(){\r\n            this.editingShop = null\r\n            this.editingShopIndex = -1\r\n            this.lists.forEach(shop =>{\r\n                shop.editing = false\r\n                shop.editingMsg = '编辑'\r\n            })\r\n        },\r\n\r\n        //touch事件 \r\n        start(e,good){\r\n            good.startX = e.changedTouches[0].clientX\r\n        },\r\n        end(e,shopIndex,good,goodIndex){\r\n            let endX = e.changedTouches[0].clientX\r\n            let left = '0'\r\n            if(good.startX - endX > 100){\r\n                left = '-60px'\r\n                good.touch = true\r\n            }\r\n            if(endX - good.startX > 100){\r\n                left = '0px'\r\n                good.touch = false\r\n            }\r\n            Volecity(this.$refs[`goods-${shopIndex}-${goodIndex}`], {\r\n                left\r\n            })\r\n            \r\n        },\r\n    },\r\n    mixins:[mixin]\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//-------------------------------mockjs的使用\r\n\r\n// import Mock from 'mockjs'\r\n// let Random = Mock.Random\r\n\r\n\r\n// let data = Mock.mock({\r\n//     'cartList|3' :[{\r\n//         'goodsList|1-2':[{\r\n//             id:Random.int(10000,100000),\r\n//             image:Mock.mock('@img(90x90, @color)')\r\n//         }]\r\n//     }]\r\n// })\r\n\r\n// console.log(data)\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.js","import axios from 'axios'\r\n\r\n\r\nfunction fetch(url,data){\r\n    return new Promise((resolve,reject) => {\r\n        axios.post(url,data).then(res => {\r\n            let status = res.data.status\r\n            if(status === 200){\r\n                resolve(res)\r\n            }\r\n            //如果没有登录就购买，返回状态码为300 然后跳转到登录页\r\n            //根据实际业务情况\r\n            if(status === 300){\r\n                href.location = 'login.html'\r\n                resolve(res)\r\n            }\r\n            rejects(res)\r\n        }).catch(error =>{\r\n            reject(error)\r\n        })\r\n    })\r\n}\r\n\r\n\r\n//到处fetch\r\nexport default fetch\r\n\r\n// axios.post(url.cartMremove, {\r\n//     ids\r\n// }).then(res => {\r\n\r\n// }).catch(res =>{\r\n\r\n// })\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/fetch.js","let mixin = {\r\n    filters: {\r\n        currency(price) {\r\n            let priceStr = '' + price\r\n            if (priceStr.indexOf('.') > -1) {\r\n                let arr = priceStr.split('.')\r\n                return arr[0] + '.' + (arr[1] + '0').substr(0, 2)\r\n            } else {\r\n                return priceStr + '.00'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default mixin\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixin.js","import fetch from 'js/fetch.js'\r\nimport url from 'js/api.js'\r\n\r\nclass Cart {\r\n    static add(id){\r\n        return fetch(url.addCart,{\r\n            id,\r\n            number:1\r\n        })\r\n    }\r\n    \r\n    static reduce(id){\r\n        return fetch(url.cartReduce,{\r\n            id,\r\n            number:1\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport default Cart\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/cartService.js"],"sourceRoot":""}